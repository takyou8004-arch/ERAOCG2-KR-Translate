;-------------------------------------------------
;슈퍼를 들른다
;-------------------------------------------------
@COM462
#DIM DYNAMIC カウンタ,2
#DIM DYNAMIC リスト開始
#DIM DYNAMIC リスト終了
#DIM DYNAMIC 選択아이템
#DIM DYNAMIC 캐릭터_ID
#DIM DYNAMIC 条件달성
#DIMS DYNAMIC 아이템名称
#DIM DYNAMIC 選択덱
#DIM DYNAMIC 合計価格
$INPUT_LOOP
REPEAT 5
	PRINTFORML
REND
PRINTFORML 삐뽀뽀빠뽀～♪、삐뽀뽀빠뽀～♪
PRINTFORML 매일 싸다！매일 맛있다！슈퍼 ＲＡＲｅ！
PRINTFORML 아침 9시부터 밤 9시까지！슈퍼 ＲａＲｅ！오늘도 쇼핑하고가세요！

PRINTFORML 
PRINTFORML 슈퍼에 왔습니다。
PRINTFORML 
CUSTOMDRAWLINE ―
PRINTL 【슈퍼 ＲＡＲｅ】
CUSTOMDRAWLINE ―
PRINTFORML 소지 아이템：
FOR カウンタ,410,430
	SIF カウンタ == 412
		PRINTL
	SIF ITEMNAME:カウンタ == ""
		CONTINUE
	아이템名称 = %ITEMNAME:カウンタ%({ITEM:カウンタ}個)
	PRINTFORM 　%아이템名称,16,LEFT%
NEXT
PRINTFORML 
CUSTOMDRAWLINE ―
PRINTL [0] - 식재료를 산다
PRINTL [1] - 요리기구를 산다
PRINTL [2] - 약세트를 산다
PRINTL [3] - 술을 산다

PRINTL
PRINTL [50] - 세트 상품을 산다
PRINTL
CUSTOMDRAWLINE ―
PRINTL [100] - 돌아간다
BINPUT
IF RESULT == 0
	$INPUT_LOOP0
	REPEAT 5
		PRINTL
	REND
	CUSTOMDRAWLINE ―
	PRINTFORML 식재료를 얼마나 사시겠습니까？	 (소지금:{MONEY}엔)
	PRINTL （하나 당 500엔）
	CUSTOMDRAWLINE ―

	PRINTL [1] [3] [5] [10] 
	PRINTL
	PRINTL [100] - 돌아간다
	BINPUT
	IF RESULT == 100
		GOTO INPUT_LOOP
	ELSEIF MONEY >= ITEMPRICE:410 * RESULT && RESULT != 100
		REPEAT 3
			PRINTL
		REND
		合計価格 = ITEMPRICE:410 * RESULT
		PRINTFORMW 식재료를 {合計価格}엔 만큼 샀습니다！
		ITEM:410 += RESULT
		CALL MONEY_GET(-合計価格)
		GOTO INPUT_LOOP
	ELSEIF MONEY < ITEMPRICE:410 * RESULT && RESULT != 100
		REPEAT 3
			PRINTL
		REND
		PRINTW 돈이 부족합니다！
		GOTO INPUT_LOOP0
	ENDIF
ELSEIF RESULT == 1
	$INPUT_LOOP1
	REPEAT 5
		PRINTL
	REND
	CUSTOMDRAWLINE ―
	PRINTFORML 전부 초고급품질！　요리를 즐기자！
	PRINTFORML 어느 요리기구를 사시겠습니까？ (소지금:{MONEY}엔)
	CUSTOMDRAWLINE ―
	PRINT [400] - 조리용 식칼 3000엔
	IF ITEM:400 != 0
		SETCOLOR C_YELLOW
		PRINTL  *소지중*
		RESETCOLOR
	ELSE
		PRINTL
	ENDIF
	PRINT [401] - 후라이팬 3500엔
	IF ITEM:401 != 0
		SETCOLOR C_YELLOW
		PRINTL  *소지중*
		RESETCOLOR
	ELSE
		PRINTL
	ENDIF
	PRINT [402] - 냄비　　　　 5000엔
	IF ITEM:402 != 0
		SETCOLOR C_YELLOW
		PRINTL  *소지중*
		RESETCOLOR
	ELSE
		PRINTL
	ENDIF
	PRINTL
	PRINTL [100] - 돌아간다
	BINPUT
	IF RESULT == 100
		GOTO INPUT_LOOP
	ELSEIF MONEY >= ITEMPRICE:RESULT && ITEM:RESULT == 0 && RESULT != 100
		REPEAT 3
			PRINTL
		REND
		PRINTFORMW %ITEMNAME:RESULT%를 샀습니다！
		ITEM:RESULT += 1
		CALL MONEY_GET(-ITEMPRICE:RESULT)
		GOTO INPUT_LOOP
	ELSEIF MONEY < ITEMPRICE:RESULT && RESULT != 100
		REPEAT 3
			PRINTL
		REND
		PRINTW 돈이 부족합니다！
		GOTO INPUT_LOOP1
	ELSEIF ITEM:RESULT != 0 && RESULT != 100
		REPEAT 3
			PRINTL
		REND
		PRINTW 이미 갖고있어요！
		GOTO INPUT_LOOP1
	ENDIF
ELSEIF RESULT == 2
	$INPUT_LOOP2
	REPEAT 5
		PRINTL
	REND
	CUSTOMDRAWLINE ―
	PRINTL 이거 하나만으로 여러 질병에도 안심！
	PRINTL 약 세트는 1000엔입니다！
	PRINTFORML 얼마나 사시겠습니까？ (소지금:{MONEY}엔)
	CUSTOMDRAWLINE ―
	PRINTL [1] [3] [5] [10] 
	PRINTL
	PRINTL [100] - 돌아간다
	BINPUT
	IF RESULT == 100
		GOTO INPUT_LOOP
	ELSEIF MONEY >= ITEMPRICE:411 * RESULT && RESULT != 100
		REPEAT 3
			PRINTL
		REND
		PRINTFORMW 약세트를 {ITEMPRICE:411 * RESULT}엔 만큼 샀습니다！
		ITEM:411 += RESULT
		CALL MONEY_GET(-ITEMPRICE:411)
		GOTO INPUT_LOOP
	ELSEIF MONEY < ITEMPRICE:411 * RESULT && RESULT != 100
		REPEAT 3
			PRINTL
		REND
		PRINTW 돈이 부족합니다！
		GOTO INPUT_LOOP2
	ENDIF
ELSEIF RESULT == 3
	$INPUT_LOOP3
	FOR 캐릭터_ID,0,CHARANUM
		SIF CFLAG:캐릭터_ID:동행 <= 0
			CONTINUE
		SIF TALENT:캐릭터_ID:연령 <= -1
			CONTINUE
		条件달성 = 1
		BREAK
	NEXT
	IF 条件달성 != 1 && TALENT:MASTER:연령 <= -1
		PRINTFORMW 꼬맹이가！　그정도의 나이로 술을 살수 있을거라 생각하지 말라고！！
		PRINTFORMW 엄청나게 혼나버렸다……어른과 오면 살 수 있을까？
		GOTO INPUT_LOOP
	ENDIF
	CUSTOMDRAWLINE ―
	PRINTFORML 술을 스무살부터！
	PRINTFORML 뭘 사볼까～？ (소지금:{MONEY}엔)
	CUSTOMDRAWLINE ―
	FOR カウンタ,420,430
		SIF ITEMNAME:カウンタ == ""
			CONTINUE
		PRINTFORML [{カウンタ,4}] - %ITEMNAME:カウンタ,30,LEFT% - 6개 （{ITEMPRICE:カウンタ * 6}엔）
	NEXT
	PRINTFORML 
	PRINTFORML [100] - 돌아간다
	BINPUT
	IF RESULT == 100
		GOTO INPUT_LOOP
	ELSEIF MONEY >= ITEMPRICE:RESULT * 6
		PRINTFORMW %ITEMNAME:RESULT%를 반다스만큼 샀습니다！（{ITEMPRICE:RESULT * 6}엔）
		ITEM:RESULT += 6
		合計価格 = ITEMPRICE:RESULT * 6
		CALL MONEY_GET(-合計価格)
		GOTO INPUT_LOOP3
	ELSEIF MONEY <  ITEMPRICE:RESULT * 6
		REPEAT 3
			PRINTL
		REND
		PRINTW 돈이 부족합니다！
		GOTO INPUT_LOOP3
	ENDIF
ELSEIF RESULT == 50
	$INPUT_LOOP50
	REPEAT 5
		PRINTL
	REND
	CUSTOMDRAWLINE ―
	PRINTL 어느 세트를 사시겠습니까？：（일괄：2500엔）
	CUSTOMDRAWLINE ―
	FOR カウンタ,300,320
		VARSET RESULT
		TRYCALLFORM DUELDECK_{15000 + カウンタ}("存在確認")
		SIF RESULT != 1
			CONTINUE
		IF ストラク_ID:カウンタ == 1
			SETCOLOR C_GRAY
			PRINTPLAINFORM 　[{カウンタ,3}] - 【%RESULTS%】 -%RESULTS:1%-（구입함）
		ELSE
			PRINTFORM 　[{カウンタ,3}] - 【%RESULTS%】 -%RESULTS:1%-
		ENDIF
		PRINTL
		RESETCOLOR
	NEXT
	PRINTL
	PRINTL [9999] - 돌아간다
	BINPUT
	SIF RESULT == 9999
		GOTO INPUT_LOOP
	選択덱 = RESULT
	CALL CARD_DECK_CHECK(選択덱 + 15000,1)
	IF RESULT == 0
		IF MONEY < 2500
			PRINTFORMW 「돈이 부족한데요？」
			GOTO INPUT_LOOP1
		ELSEIF MONEY >= 2500
			CALL MONEY_GET(-2500)
			CALLFORM CARD_STRUC_GET(選択덱)
			ITEM:식재료 += 3
		ENDIF
		GOTO INPUT_LOOP
	ELSEIF RESULT == 1
		GOTO INPUT_LOOP50
	ENDIF

ELSEIF RESULT == 100
	RETURN 0
ENDIF
RESTART



@CAN_COM462(ARG)
#DIM DYNAMIC 時間外
SKIPDISP ARG

;早朝の時間帯はやっとらんよ
IF TIME_ZONE() == T_夜時間
	PRINTFORML 슈퍼 ＲＡＲｅ는 아침 9시부터 밤 9시까지！
	PRINTFORMW 오늘은 이미 영업종료인것 같다、내일 다시 오자
	時間外 = 1
ELSEIF TIME_ZONE(1) != 1
	PRINTFORML 슈퍼 ＲＡＲｅ는 아침 9시부터 밤 9시까지！
	PRINTFORMW 아직 하고있지 않은 것 같다、9시에 다시오자
	時間外 = 1
ENDIF
SKIPDISP 0

SIF 時間外
	RETURN 0
RETURN 1

;-------------------------------------------------
;実行판정
;-------------------------------------------------
;슈퍼를 들른다
@COM_ABLE462
;一括관리
SIF GLOBAL_COMABLE(462)
	RETURN RESULT
SIF CFLAG:MASTER:현재위치 != 場所_スーパー
	RETURN 0

;수면中
SIF CFLAG:우후후 == 2
	RETURN 0
RETURN 1


@DUELDECK_15300(듀얼리스트)
#DIMS DYNAMIC 듀얼리스트
RESULTS = 군관＆식재료 3개 세트

SIF 듀얼리스트 == "存在確認"
    RETURN 1

IF 듀얼리스트 == "入手"
    ITEM:31063 += 1
    ITEM:31063 += 1
    ITEM:31063 += 1
    ITEM:31060 += 1
    ITEM:31060 += 1
    ITEM:31060 += 1
    ITEM:31061 += 1
    ITEM:31061 += 1
    ITEM:31061 += 1
    ITEM:31062 += 1
    ITEM:31062 += 1
    ITEM:31062 += 1
    ITEM:31064 += 1
    ITEM:31064 += 1
    ITEM:31064 += 1
    ITEM:70031 += 1
    ITEM:70031 += 1
    ITEM:70031 += 1
    ITEM:70035 += 1
    ITEM:70035 += 1
    ITEM:70035 += 1
    ITEM:71028 += 1
    ITEM:71028 += 1
    ITEM:71028 += 1
    ITEM:73110 += 1
    ITEM:73110 += 1
    ITEM:73110 += 1
    ITEM:93110 += 1
    ITEM:93110 += 1
    ITEM:93110 += 1

    ITEM:52300 += 1
    ITEM:55570 += 1
    ITEM:55570 += 1
    ITEM:55570 += 1
    ITEM:55571 += 1
    ITEM:55571 += 1
    ITEM:55571 += 1
    ITEM:55572 += 1
    ITEM:55572 += 1
    ITEM:55572 += 1
        RETURN 1
ENDIF

SETVAR @"%듀얼리스트%_덱:POOL_COUNT(1)", 31063
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31063
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31063
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31060
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31060
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31060
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31061
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31061
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31061
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31062
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31062
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31062
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31064
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31064
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 31064
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 70031
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 70031
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 70031
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 70035
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 70035
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 70035
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 71028
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 71028
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 71028
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 73110
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 73110
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 73110
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 93110
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 93110
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 93110


SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(1)", 55570
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 55570
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 55570
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 55571
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 55571
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 55571
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 55572
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 55572
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 55572
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 52300


@DUELDECK_15301(듀얼리스트)
#DIMS DYNAMIC 듀얼리스트
RESULTS = 햄버거＆식재료 3개 세트

SIF 듀얼리스트 == "存在確認"
    RETURN 1

IF 듀얼리스트 == "入手"
    ITEM:2260 += 1
    ITEM:2260 += 1
    ITEM:2260 += 1
    ITEM:51512 += 1
    ITEM:51512 += 1
    ITEM:51514 += 1
    ITEM:51514 += 1
    ITEM:51580 += 1
    ITEM:51580 += 1
    ITEM:51582 += 1
    ITEM:51582 += 1
    ITEM:51584 += 1
    ITEM:51584 += 1
    ITEM:51585 += 1
    ITEM:51585 += 1
    ITEM:51586 += 1
    ITEM:51586 += 1
    ITEM:51586 += 1
    ITEM:75150 += 1
    ITEM:75150 += 1
    ITEM:75151 += 1
    ITEM:75151 += 1
    ITEM:75152 += 1
    ITEM:75152 += 1
    ITEM:75153 += 1
    ITEM:75153 += 1
    ITEM:75154 += 1
    ITEM:75154 += 1
    ITEM:75155 += 1
    ITEM:75155 += 1

    ITEM:2261 += 1
    ITEM:2261 += 1
    ITEM:2261 += 1
        RETURN 1
ENDIF


SETVAR @"%듀얼리스트%_덱:POOL_COUNT(1)", 2260
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 2260
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 2260
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51512
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51512
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51514
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51514
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51580
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51580
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51582
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51582
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51584
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51584
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51585
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51585
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51586
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51586
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 51586
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75150
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75150
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75151
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75151
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75152
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75152
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75153
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75153
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75154
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75154
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75155
SETVAR @"%듀얼리스트%_덱:POOL_COUNT(0)", 75155


SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(1)", 2261
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 2261
SETVAR @"%듀얼리스트%_EX덱:POOL_COUNT(0)", 2261