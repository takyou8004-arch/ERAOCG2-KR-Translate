@CARDNAME_25710,参照先
;ココで지정カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 전황의 반－려봉
	CASE "略称"
		RESULTS = 려봉
	CASE "カテゴリ"
		RESULTS:0 = 전황
ENDSELECT


@CARD_25710(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "종류"	
		RETURN 효과モン
	CASE "속성"
		RETURN 어둠속성
	CASE "종족"
		RETURN 야수족
	CASE "レベル"
		RETURN 8
	CASE "攻撃力"
		RETURN 2800
	CASE "守備力"
		RETURN 2200
	CASE "소환불가"
		RETURN 1
	CASE "특수불가"
		RETURN 1
	CASE "성별"
		RETURN 雄性
	CASE "レア度"
		RETURN ULR
	CASE "추가日"
		RETURN 250913
ENDSELECT

RETURN 0

@CARD_EXPLANATION_25710(종류)
#DIM DYNAMIC 종류

PRINTL 이 카드는 일반 소환할 수 없다。
CALLFORM CARD_ABLE(1,손패起動)
PRINTL "전황의 반－려봉"은 １턴에 １번、자신 필드에 "전황" 몬스터가 존재하고、
PRINTL 공격력이 가장 높은 몬스터가 자신 필드에 존재하는 경우에만 특수 소환할 수 있다。
CALLFORM CARD_ABLE(10,필드起動,フリー誘発)
PRINTL ①：서로의 메인 페이즈에 １번、발동할 수 있다。상대 필드이ㅡ 공격력이 가장 높은 몬스터 １장을 파괴한다。
CALLFORM CARD_ABLE(2,ターン終了時強制)
PRINTL ②：엔드 페이즈에、필드의 공격력이 가장 높은 몬스터가 상대 필드에 존재하는 경우에 발동한다。
PRINTL 이 컨트롤을 상대에게 옮긴다。



@CARDCAN_25710(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIMS DYNAMIC 対面者
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 現在最大攻撃力
#DIM DYNAMIC 裏切り플래그

CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

CALL CARD_NEGATE(듀얼리스트,종류,ゾーン,場所,25710)
SIF RESULT == 1
	RETURN 0

IF 종류 == 손패起動
	SIF ゾーン != "손패"
		RETURN 0
	CALL CARD_SS_CHECK(듀얼리스트,25710,"손패")
	SIF RESULT == 1
		RETURN 0
	SIF 발동済_1(듀얼리스트,25710)
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 듀얼리스트
		RETURN 0
	효과範囲필드 = 1
	효과条件カテゴリ = 전황
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT < 1
		RETURN 0

	現在最大攻撃力 = -1
	FOR カウンタ, 0, 5
		SIF GETVAR(@"%듀얼리스트%_필드:カウンタ") < 0
			CONTINUE
		SIF GETVAR(@"%듀얼리스트%_MZ_表:カウンタ") == 3
			CONTINUE
		IF GETVAR(@"%듀얼리스트%_MZ_攻:カウンタ") > 現在最大攻撃力
			現在最大攻撃力 = GETVAR(@"%듀얼리스트%_MZ_攻:カウンタ")
		ENDIF
	NEXT


	FOR カウンタ, 0, 5
		SIF GETVAR(@"%対面者%_필드:カウンタ") < 0
			CONTINUE
		SIF GETVAR(@"%対面者%_MZ_表:カウンタ") == 3
			CONTINUE
		IF GETVAR(@"%対面者%_MZ_攻:カウンタ") > 現在最大攻撃力
			裏切り플래그 = 1
			BREAK
		ENDIF
	NEXT

	SIF 裏切り플래그 == 1
		RETURN 0
	RETURN 1

ELSEIF 종류 == 필드起動 || 종류 == フリー誘発
	SIF ゾーン != "필드"
		RETURN 0
	SIF 효과발동済(듀얼리스트,場所,ゾーン)
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	CALL FULLRESET
	효과範囲상대필드 = 1
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1

ELSEIF 종류 == ターン終了時強制
	SIF ゾーン != "필드"
		RETURN 0
	CALL FULLRESET
	효과範囲상대필드 = 1
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0

	現在最大攻撃力 = -1
	FOR カウンタ, 0, 5
		SIF GETVAR(@"%듀얼리스트%_필드:カウンタ") < 0
			CONTINUE
		SIF GETVAR(@"%듀얼리스트%_MZ_表:カウンタ") == 3
			CONTINUE
		IF GETVAR(@"%듀얼리스트%_MZ_攻:カウンタ") > 現在最大攻撃力
			現在最大攻撃力 = GETVAR(@"%듀얼리스트%_MZ_攻:カウンタ")
		ENDIF
	NEXT


	FOR カウンタ, 0, 5
		SIF GETVAR(@"%対面者%_필드:カウンタ") < 0
			CONTINUE
		SIF GETVAR(@"%対面者%_MZ_表:カウンタ") == 3
			CONTINUE
		IF GETVAR(@"%対面者%_MZ_攻:カウンタ") > 現在最大攻撃力
			裏切り플래그 = 1
			BREAK
		ENDIF
	NEXT

	SIF 裏切り플래그 == 0
		RETURN 0
	RETURN 1

ENDIF

@CARDEFFECT_25710(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC 対面者 
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 攻撃力판정
#DIM DYNAMIC 설정場所

VARSET 攻撃力판정, -1
VARSET 설정場所, -1

CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

IF 종류 == 손패起動
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,25710,1)
	IF RESULT == 0
		CALL FULLRESET
		CALL CARD_SP_SUMMON(듀얼리스트,ゾーン,場所)
	ENDIF

ELSEIF 종류 == 필드起動 || 종류 == フリー誘発
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,25710,10)
	IF RESULT == 0
		FOR カウンタ,0,5
			SIF GETVAR(@"%対面者%_필드:カウンタ") == -1
				CONTINUE
			SIF GETVAR(@"%対面者%_MZ_表:カウンタ") == 3
				CONTINUE
			IF 攻撃力판정 < GETVAR(@"%対面者%_MZ_攻:カウンタ")
				攻撃力판정 = GETVAR(@"%対面者%_MZ_攻:カウンタ")
				설정場所 = カウンタ
			ENDIF
		NEXT
		IF 설정場所 >= 0
			CALL FULLRESET
			효과条件以攻撃力 = 攻撃力판정
			CALL CARD_REMOVAL_BASIC(듀얼리스트,"필드単体",場所,"묘지")
		ENDIF
	ENDIF

ELSEIF 종류 == ターン終了時強制
	CALL FULLRESET
	CALL CARD_GET_CONTROL(対面者,場所)

ENDIF
